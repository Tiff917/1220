<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Profile</title>
    <style>
        /* --- å…¨å±€è¨­å®š --- */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; -webkit-tap-highlight-color: transparent; }
        
        body { 
            background-color: #F3ECE5; 
            height: 100vh; 
            display: flex; flex-direction: column;
        }

        /* --- Header --- */
        .header {
            flex-shrink: 0; height: 50px; padding: 0 20px; margin-top: 40px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .back-btn { text-decoration: none; color: #6D5D50; font-weight: 600; font-size: 16px; }
        .header-title { font-weight: 700; color: #6D5D50; font-size: 18px; }
        .dummy-btn { width: 30px; } /* ä½”ä½ç”¨ */

        /* --- å€‹äººè³‡è¨Šå€ --- */
        .profile-section {
            display: flex; flex-direction: column; align-items: center;
            padding: 30px 20px;
        }

        .avatar {
            width: 90px; height: 90px; border-radius: 50%;
            background-color: #9C7C66; /* é è¨­å¤§é ­è²¼é¡è‰² */
            margin-bottom: 15px;
            border: 4px solid #fff;
            box-shadow: 0 5px 15px rgba(156, 124, 102, 0.2);
        }

        .username { font-size: 20px; font-weight: 700; color: #6D5D50; margin-bottom: 5px; }
        .bio { font-size: 14px; color: #998A7D; text-align: center; max-width: 250px; line-height: 1.4; }

        /* --- æ•¸æ“šåˆ— (è£é£¾ç”¨) --- */
        .stats-row {
            display: flex; justify-content: center; gap: 40px; margin: 20px 0 30px 0; width: 100%;
        }
        .stat-item { text-align: center; }
        .stat-num { font-weight: 700; font-size: 18px; color: #6D5D50; display: block; }
        .stat-label { font-size: 12px; color: #998A7D; }

        /* --- é¸é …æ¸…å–® (æ ¸å¿ƒä¿®æ”¹) --- */
        .menu-list {
            width: 100%; padding: 0 20px;
            display: flex; flex-direction: column; gap: 12px;
        }

        .menu-item {
            background-color: #fff;
            padding: 16px 20px;
            border-radius: 16px;
            display: flex; justify-content: space-between; align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.03);
            transition: transform 0.1s, box-shadow 0.1s;
            text-decoration: none; color: inherit; /* çµ¦ a æ¨™ç±¤ç”¨ */
        }

        .menu-item:active { transform: scale(0.98); }

        .item-left { display: flex; align-items: center; gap: 12px; }
        .item-icon { width: 20px; height: 20px; stroke: #9C7C66; }
        .item-text { font-size: 15px; font-weight: 600; color: #6D5D50; }

        /* --- è¨‚é–±æŒ‰éˆ•å°ˆå±¬æ¨£å¼ --- */
        #subscriptionRow {
            border: 1px solid transparent;
        }
        
        /* éˆ´éºåœ–ç¤º */
        .bell-icon {
            width: 24px; height: 24px;
            fill: #e0e0e0; /* æœªè¨‚é–±ï¼šç°è‰² */
            stroke: none;
            transition: fill 0.3s ease;
        }

        /* è¨‚é–±å¾Œçš„ç‹€æ…‹ */
        .menu-item.is-premium {
            border: 1px solid rgba(211, 47, 47, 0.1);
            background-color: #fff5f5; /* æ·¡æ·¡çš„ç²‰ç´…åº• */
        }
        
        .menu-item.is-premium .bell-icon {
            fill: #d32f2f; /* å·²è¨‚é–±ï¼šç´…è‰² */
            animation: ding 0.5s ease;
        }
        
        .menu-item.is-premium .item-text {
            color: #d32f2f;
        }

        .arrow-icon { width: 16px; height: 16px; stroke: #ccc; }

        @keyframes ding { 0%{transform:rotate(0)} 20%{transform:rotate(15deg)} 40%{transform:rotate(-10deg)} 60%{transform:rotate(5deg)} 80%{transform:rotate(-5deg)} 100%{transform:rotate(0)} }

        /* æ¸¬è©¦æŒ‰éˆ• */
        .debug-btn { margin-top: 40px; align-self: center; border: none; background: none; color: #ccc; font-size: 12px; }

    </style>
</head>
<body>

    <div class="header">
        <a href="home.html" class="back-btn">Back</a>
        <div class="header-title">Profile</div>
        <div class="dummy-btn"></div>
    </div>

    <div class="profile-section">
        <div class="avatar"></div>
        <div class="username">User Name</div>
        <div class="bio">Photography / Travel / Food<br>Capturing moments ğŸ“¸</div>
    </div>

    <div class="stats-row">
        <div class="stat-item"><span class="stat-num">128</span><span class="stat-label">Posts</span></div>
        <div class="stat-item"><span class="stat-num">3.5k</span><span class="stat-label">Followers</span></div>
        <div class="stat-item"><span class="stat-num">482</span><span class="stat-label">Following</span></div>
    </div>

    <div class="menu-list">
        <div class="menu-item">
            <div class="item-left">
                <svg class="item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
                <span class="item-text">Edit Profile</span>
            </div>
            <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </div>

        <div class="menu-item" id="subscriptionRow" onclick="handleSubscription()">
            <div class="item-left">
                <svg class="item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>
                <span class="item-text" id="subText">Premium Subscription</span>
            </div>
            
            <svg class="bell-icon" id="bellIcon" viewBox="0 0 24 24">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
        </div>

        <div class="menu-item">
            <div class="item-left">
                <svg class="item-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path></svg>
                <span class="item-text">Settings</span>
            </div>
            <svg class="arrow-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </div>
    </div>

    <button class="debug-btn" onclick="resetMember()">[Debug: Reset Membership]</button>

    <script>
        const row = document.getElementById('subscriptionRow');
        const text = document.getElementById('subText');

        // 1. æª¢æŸ¥ç‹€æ…‹
        function checkStatus() {
            const isPremium = localStorage.getItem('isPremium');
            
            if (isPremium === 'true') {
                // å·²ä»˜è²»ï¼šå¥—ç”¨ç´…è‰²æ¨£å¼
                row.classList.add('is-premium');
                text.textContent = "Premium Active";
            } else {
                // æœªä»˜è²»ï¼šä¿æŒåŸæ¨£
                row.classList.remove('is-premium');
                text.textContent = "Subscribe Premium";
            }
        }

        // 2. é»æ“Šé‚è¼¯
        function handleSubscription() {
            const isPremium = localStorage.getItem('isPremium');
            
            if (isPremium === 'true') {
                // å¦‚æœå·²ç¶“æ˜¯æœƒå“¡ï¼Œå¯èƒ½é¡¯ç¤ºç®¡ç†è¨‚é–±ï¼Œæˆ–ä»€éº¼éƒ½ä¸åš
                // alert("You are already a VIP!");
            } else {
                // é‚„ä¸æ˜¯æœƒå“¡ -> å»ä»˜æ¬¾
                window.location.href = "payment.html";
            }
        }

        // æ¸¬è©¦ç”¨ï¼šé‡ç½®
        function resetMember() {
            localStorage.removeItem('isPremium');
            location.reload();
        }

        // åˆå§‹åŒ–
        checkStatus();
    </script>
</body>
</html>
